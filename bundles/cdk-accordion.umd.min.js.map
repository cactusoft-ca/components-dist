{"version":3,"file":"cdk-accordion.umd.min.js","sources":["../../src/cdk/accordion/accordion.ts","../../src/cdk/accordion/accordion-item.ts","../../src/cdk/accordion/accordion-module.ts"],"sourcesContent":["/**\r\n * @license\r\n * Copyright Google LLC All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://angular.io/license\r\n */\r\n\r\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\r\nimport {Directive, Input, OnChanges, OnDestroy, SimpleChanges} from '@angular/core';\r\nimport {Subject} from 'rxjs';\r\n\r\n/** Used to generate unique ID for each accordion. */\r\nlet nextId = 0;\r\n\r\n/**\r\n * Directive whose purpose is to manage the expanded state of CdkAccordionItem children.\r\n */\r\n@Directive({\r\n  selector: 'cdk-accordion, [cdkAccordion]',\r\n  exportAs: 'cdkAccordion',\r\n})\r\nexport class CdkAccordion implements OnDestroy, OnChanges {\r\n  /** Emits when the state of the accordion changes */\r\n  readonly _stateChanges = new Subject<SimpleChanges>();\r\n\r\n  /** Stream that emits true/false when openAll/closeAll is triggered. */\r\n  readonly _openCloseAllActions: Subject<boolean> = new Subject<boolean>();\r\n\r\n  /** A readonly id value to use for unique selection coordination. */\r\n  readonly id = `cdk-accordion-${nextId++}`;\r\n\r\n  /** Whether the accordion should allow multiple expanded accordion items simultaneously. */\r\n  @Input()\r\n  get multi(): boolean { return this._multi; }\r\n  set multi(multi: boolean) { this._multi = coerceBooleanProperty(multi); }\r\n  private _multi: boolean = false;\r\n\r\n  /** Opens all enabled accordion items in an accordion where multi is enabled. */\r\n  openAll(): void {\r\n    this._openCloseAll(true);\r\n  }\r\n\r\n  /** Closes all enabled accordion items in an accordion where multi is enabled. */\r\n  closeAll(): void {\r\n    this._openCloseAll(false);\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    this._stateChanges.next(changes);\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this._stateChanges.complete();\r\n  }\r\n\r\n  private _openCloseAll(expanded: boolean): void {\r\n    if (this.multi) {\r\n      this._openCloseAllActions.next(expanded);\r\n    }\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Google LLC All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://angular.io/license\r\n */\r\n\r\nimport {\r\n  Output,\r\n  Directive,\r\n  EventEmitter,\r\n  Input,\r\n  OnDestroy,\r\n  Optional,\r\n  ChangeDetectorRef,\r\n  SkipSelf,\r\n} from '@angular/core';\r\nimport {UniqueSelectionDispatcher} from '@angular/cdk/collections';\r\nimport {CdkAccordion} from './accordion';\r\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\r\nimport {Subscription} from 'rxjs';\r\n\r\n/** Used to generate unique ID for each accordion item. */\r\nlet nextId = 0;\r\n\r\n/**\r\n * An basic directive expected to be extended and decorated as a component.  Sets up all\r\n * events and attributes needed to be managed by a CdkAccordion parent.\r\n */\r\n@Directive({\r\n  selector: 'cdk-accordion-item, [cdkAccordionItem]',\r\n  exportAs: 'cdkAccordionItem',\r\n  providers: [\r\n    // Provide CdkAccordion as undefined to prevent nested accordion items from registering\r\n    // to the same accordion.\r\n    {provide: CdkAccordion, useValue: undefined},\r\n  ],\r\n})\r\nexport class CdkAccordionItem implements OnDestroy {\r\n  /** Subscription to openAll/closeAll events. */\r\n  private _openCloseAllSubscription = Subscription.EMPTY;\r\n  /** Event emitted every time the AccordionItem is closed. */\r\n  @Output() closed: EventEmitter<void> = new EventEmitter<void>();\r\n  /** Event emitted every time the AccordionItem is opened. */\r\n  @Output() opened: EventEmitter<void> = new EventEmitter<void>();\r\n  /** Event emitted when the AccordionItem is destroyed. */\r\n  @Output() destroyed: EventEmitter<void> = new EventEmitter<void>();\r\n\r\n  /**\r\n   * Emits whenever the expanded state of the accordion changes.\r\n   * Primarily used to facilitate two-way binding.\r\n   * @docs-private\r\n   */\r\n  @Output() expandedChange: EventEmitter<boolean> = new EventEmitter<boolean>();\r\n\r\n  /** The unique AccordionItem id. */\r\n  readonly id: string = `cdk-accordion-child-${nextId++}`;\r\n\r\n  /** Whether the AccordionItem is expanded. */\r\n  @Input()\r\n  get expanded(): any { return this._expanded; }\r\n  set expanded(expanded: any) {\r\n    expanded = coerceBooleanProperty(expanded);\r\n\r\n    // Only emit events and update the internal value if the value changes.\r\n    if (this._expanded !== expanded) {\r\n      this._expanded = expanded;\r\n      this.expandedChange.emit(expanded);\r\n\r\n      if (expanded) {\r\n        this.opened.emit();\r\n        /**\r\n         * In the unique selection dispatcher, the id parameter is the id of the CdkAccordionItem,\r\n         * the name value is the id of the accordion.\r\n         */\r\n        const accordionId = this.accordion ? this.accordion.id : this.id;\r\n        this._expansionDispatcher.notify(this.id, accordionId);\r\n      } else {\r\n        this.closed.emit();\r\n      }\r\n\r\n      // Ensures that the animation will run when the value is set outside of an `@Input`.\r\n      // This includes cases like the open, close and toggle methods.\r\n      this._changeDetectorRef.markForCheck();\r\n    }\r\n  }\r\n  private _expanded = false;\r\n\r\n  /** Whether the AccordionItem is disabled. */\r\n  @Input()\r\n  get disabled() { return this._disabled; }\r\n  set disabled(disabled: any) { this._disabled = coerceBooleanProperty(disabled); }\r\n  private _disabled: boolean = false;\r\n\r\n  /** Unregister function for _expansionDispatcher. */\r\n  private _removeUniqueSelectionListener: () => void = () => {};\r\n\r\n  constructor(@Optional() @SkipSelf() public accordion: CdkAccordion,\r\n              private _changeDetectorRef: ChangeDetectorRef,\r\n              protected _expansionDispatcher: UniqueSelectionDispatcher) {\r\n    this._removeUniqueSelectionListener =\r\n      _expansionDispatcher.listen((id: string, accordionId: string) => {\r\n        if (this.accordion && !this.accordion.multi &&\r\n            this.accordion.id === accordionId && this.id !== id) {\r\n          this.expanded = false;\r\n        }\r\n      });\r\n\r\n    // When an accordion item is hosted in an accordion, subscribe to open/close events.\r\n    if (this.accordion) {\r\n      this._openCloseAllSubscription = this._subscribeToOpenCloseAllActions();\r\n    }\r\n  }\r\n\r\n  /** Emits an event for the accordion item being destroyed. */\r\n  ngOnDestroy() {\r\n    this.opened.complete();\r\n    this.closed.complete();\r\n    this.destroyed.emit();\r\n    this.destroyed.complete();\r\n    this._removeUniqueSelectionListener();\r\n    this._openCloseAllSubscription.unsubscribe();\r\n  }\r\n\r\n  /** Toggles the expanded state of the accordion item. */\r\n  toggle(): void {\r\n    if (!this.disabled) {\r\n      this.expanded = !this.expanded;\r\n    }\r\n  }\r\n\r\n  /** Sets the expanded state of the accordion item to false. */\r\n  close(): void {\r\n    if (!this.disabled) {\r\n      this.expanded = false;\r\n    }\r\n  }\r\n\r\n  /** Sets the expanded state of the accordion item to true. */\r\n  open(): void {\r\n    if (!this.disabled) {\r\n      this.expanded = true;\r\n    }\r\n  }\r\n\r\n  private _subscribeToOpenCloseAllActions(): Subscription {\r\n    return this.accordion._openCloseAllActions.subscribe(expanded => {\r\n      // Only change expanded state if item is enabled\r\n      if (!this.disabled) {\r\n        this.expanded = expanded;\r\n      }\r\n    });\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Google LLC All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://angular.io/license\r\n */\r\n\r\nimport {NgModule} from '@angular/core';\r\nimport {CdkAccordion} from './accordion';\r\nimport {CdkAccordionItem} from './accordion-item';\r\n\r\n\r\n@NgModule({\r\n  exports: [CdkAccordion, CdkAccordionItem],\r\n  declarations: [CdkAccordion, CdkAccordionItem],\r\n})\r\nexport class CdkAccordionModule {}\r\n"],"names":["nextId","CdkAccordion","this","_stateChanges","Subject","_openCloseAllActions","id","_multi","Object","defineProperty","prototype","multi","coerceBooleanProperty","openAll","_openCloseAll","closeAll","ngOnChanges","changes","next","ngOnDestroy","complete","expanded","type","Directive","args","selector","exportAs","Input","CdkAccordionItem","accordion","_changeDetectorRef","_expansionDispatcher","_this","_openCloseAllSubscription","Subscription","EMPTY","closed","EventEmitter","opened","destroyed","expandedChange","_expanded","_disabled","_removeUniqueSelectionListener","listen","accordionId","_subscribeToOpenCloseAllActions","emit","notify","markForCheck","disabled","unsubscribe","toggle","close","open","subscribe","providers","provide","useValue","undefined","decorators","Optional","SkipSelf","ChangeDetectorRef","UniqueSelectionDispatcher","Output","CdkAccordionModule","NgModule","exports","declarations"],"mappings":"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"}